{"ast":null,"code":"var _jsxFileName = \"/Users/jinzhouyan/Desktop/react-travel/src/pages/detail/DetailPage.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Spin, Row, Col, Divider, Typography, Anchor, Menu } from \"antd\";\nimport styles from \"./DetailPage.module.css\";\nimport { ProductIntro, ProductComments } from \"../../components\";\nimport { DatePicker, Button } from \"antd\";\nimport { commentMockData } from \"./mockup\";\nimport { getProductDetail } from \"../../redux/productDetail/slice\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { useDispatch } from \"react-redux\";\nimport { MainLayout } from \"../../layouts/mainLayout\";\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\nimport { addShoppingCartItem } from \"../../redux/shoppingCart/slice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  RangePicker\n} = DatePicker;\nexport const DetailPage = () => {\n  _s();\n\n  const {\n    touristRouteId\n  } = useParams(); // const [loading, setLoading] = useState<boolean>(true);\n  // const [product, setProduct] = useState<any>(null);\n  // const [error, setError] = useState<string | null>(null);\n\n  const loading = useSelector(state => state.productDetail.loading);\n  const product = useSelector(state => state.productDetail.data);\n  const error = useSelector(state => state.productDetail.error);\n  const dispatch = useDispatch();\n  const jwt = useSelector(s => {\n    s.user.token;\n  });\n  const shoppingCartLoading = useSelector(s => {\n    s.shoppingCart.loading;\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch(getProductDetail(touristRouteId));\n    };\n\n    fetchData();\n  }, []);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\",\n      style: {\n        marginTop: 200,\n        marginBottom: 200,\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Website Error: \", error, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"product-intro-container\"],\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          span: 13,\n          children: /*#__PURE__*/_jsxDEV(ProductIntro, {\n            title: product.title,\n            shortDescription: product.shortDescription,\n            price: product.originalPrice,\n            coupons: product.coupons,\n            points: product.points,\n            discount: product.price,\n            rating: product.rating,\n            pictures: product.touristRoutePictures.map(p => p.url)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 11,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              marginTop: 50,\n              marginBottom: 30,\n              display: \"block\"\n            },\n            type: \"primary\",\n            danger: true,\n            loading: shoppingCartLoading,\n            onClick: () => {\n              dispatch(addShoppingCartItem({\n                jwt,\n                touristRouteId: product.id\n              }));\n            },\n            children: [/*#__PURE__*/_jsxDEV(ShoppingCartOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), \"Add to cart\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RangePicker, {\n            open: true,\n            style: {\n              marginTop: 20\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Anchor, {\n      className: styles[\"product-detail-anchor\"],\n      children: /*#__PURE__*/_jsxDEV(Menu, {\n        mode: \"horizontal\",\n        children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: /*#__PURE__*/_jsxDEV(Anchor.Link, {\n            href: \"#feature\",\n            title: \"\\u4EA7\\u54C1\\u7279\\u8272\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)\n        }, \"1\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: /*#__PURE__*/_jsxDEV(Anchor.Link, {\n            href: \"#fees\",\n            title: \"\\u8D39\\u7528\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)\n        }, \"2\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: /*#__PURE__*/_jsxDEV(Anchor.Link, {\n            href: \"#notes\",\n            title: \"\\u9884\\u5B9A\\u987B\\u77E5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)\n        }, \"3\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: /*#__PURE__*/_jsxDEV(Anchor.Link, {\n            href: \"#comments\",\n            title: \"\\u7528\\u6237\\u8BC4\\u4EF7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)\n        }, \"4\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"feature\",\n      className: styles[\"product-detail-container\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      orientation: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Typography.Title, {\n        level: 3,\n        children: \"\\u4EA7\\u54C1\\u7279\\u8272\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: product.features\n      },\n      style: {\n        margin: 50\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"fees\",\n      className: styles[\"product-detail-container\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      orientation: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Typography.Title, {\n        level: 3,\n        children: \"\\u8D39\\u7528\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: product.fees\n      },\n      style: {\n        margin: 50\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"notes\",\n      className: styles[\"product-detail-container\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      orientation: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Typography.Title, {\n        level: 3,\n        children: \"\\u9884\\u5B9A\\u987B\\u77E5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: product.notes\n      },\n      style: {\n        margin: 50\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"comments\",\n      className: styles[\"product-detail-container\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      orientation: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Typography.Title, {\n        level: 3,\n        children: \"\\u7528\\u6237\\u8BC4\\u4EF7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: 40\n      },\n      children: /*#__PURE__*/_jsxDEV(ProductComments, {\n        data: commentMockData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DetailPage, \"sAE7IpvJJNGcn63ZLQn+/7l0q8k=\", false, function () {\n  return [useParams, useSelector, useSelector, useSelector, useDispatch, useSelector, useSelector];\n});\n\n_c = DetailPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailPage\");","map":{"version":3,"sources":["/Users/jinzhouyan/Desktop/react-travel/src/pages/detail/DetailPage.tsx"],"names":["React","useEffect","useParams","Spin","Row","Col","Divider","Typography","Anchor","Menu","styles","ProductIntro","ProductComments","DatePicker","Button","commentMockData","getProductDetail","useSelector","useDispatch","MainLayout","ShoppingCartOutlined","addShoppingCartItem","RangePicker","DetailPage","touristRouteId","loading","state","productDetail","product","data","error","dispatch","jwt","s","user","token","shoppingCartLoading","shoppingCart","fetchData","marginTop","marginBottom","marginLeft","marginRight","width","title","shortDescription","originalPrice","coupons","points","price","rating","touristRoutePictures","map","p","url","display","id","__html","features","margin","fees","notes"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { RouteComponentProps, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Spin, Row, Col, Divider, Typography, Anchor, Menu } from \"antd\";\nimport styles from \"./DetailPage.module.css\";\nimport {\n  Header,\n  Footer,\n  ProductIntro,\n  ProductComments,\n} from \"../../components\";\nimport { DatePicker, Space, Button } from \"antd\";\nimport { commentMockData } from \"./mockup\";\nimport {\n  productDetailSlice,\n  getProductDetail,\n} from \"../../redux/productDetail/slice\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { useDispatch } from \"react-redux\";\nimport { MainLayout } from \"../../layouts/mainLayout\";\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\nimport { addShoppingCartItem } from \"../../redux/shoppingCart/slice\";\nconst { RangePicker } = DatePicker;\n\ninterface MatchParams {\n  touristRouteId: string;\n}\n\nexport const DetailPage: React.FC<RouteComponentProps<MatchParams>> = () => {\n  const { touristRouteId } = useParams<MatchParams>();\n  // const [loading, setLoading] = useState<boolean>(true);\n  // const [product, setProduct] = useState<any>(null);\n  // const [error, setError] = useState<string | null>(null);\n  const loading = useSelector((state) => state.productDetail.loading);\n  const product = useSelector((state) => state.productDetail.data);\n  const error = useSelector((state) => state.productDetail.error);\n\n  const dispatch = useDispatch();\n\n  const jwt = useSelector((s) => { s.user.token }) as string\n  const shoppingCartLoading = useSelector((s) => { s.shoppingCart.loading; })  as boolean\n  \n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch(getProductDetail(touristRouteId));\n    };\n    fetchData();\n  }, []);\n  if (loading) {\n    return (\n      <Spin\n        size=\"large\"\n        style={{\n          marginTop: 200,\n          marginBottom: 200,\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n          width: \"100%\",\n        }}\n      />\n    );\n  }\n  if (error) {\n    return <div>Website Error: {error} </div>;\n  }\n  return (\n    <MainLayout>\n      <div className={styles[\"product-intro-container\"]}>\n        <Row>\n          <Col span={13}>\n            <ProductIntro\n              title={product.title}\n              shortDescription={product.shortDescription}\n              price={product.originalPrice}\n              coupons={product.coupons}\n              points={product.points}\n              discount={product.price}\n              rating={product.rating}\n              pictures={product.touristRoutePictures.map((p) => p.url)}\n            />\n          </Col>\n          <Col span={11}>\n            <Button\n              style={{marginTop:50, marginBottom:30, display:\"block\"}}\n              type=\"primary\"\n              danger\n              loading={shoppingCartLoading}\n              onClick={()=>{\n                dispatch(addShoppingCartItem({jwt, touristRouteId: product.id}))\n              }}\n            >\n              <ShoppingCartOutlined/>\n              Add to cart\n            </Button>\n            <RangePicker open style={{ marginTop: 20 }} />\n          </Col>\n        </Row>\n      </div>\n      <Anchor className={styles[\"product-detail-anchor\"]}>\n        <Menu mode=\"horizontal\">\n          <Menu.Item key=\"1\">\n            <Anchor.Link href=\"#feature\" title=\"产品特色\"></Anchor.Link>\n          </Menu.Item>\n          <Menu.Item key=\"2\">\n            <Anchor.Link href=\"#fees\" title=\"费用\"></Anchor.Link>\n          </Menu.Item>\n          <Menu.Item key=\"3\">\n            <Anchor.Link href=\"#notes\" title=\"预定须知\"></Anchor.Link>\n          </Menu.Item>\n          <Menu.Item key=\"4\">\n            <Anchor.Link href=\"#comments\" title=\"用户评价\"></Anchor.Link>\n          </Menu.Item>\n        </Menu>\n      </Anchor>\n      <div id=\"feature\" className={styles[\"product-detail-container\"]}></div>\n      <Divider orientation={\"center\"}>\n        <Typography.Title level={3}>产品特色</Typography.Title>\n      </Divider>\n      <div\n        dangerouslySetInnerHTML={{ __html: product.features }}\n        style={{ margin: 50 }}\n      ></div>\n      <div id=\"fees\" className={styles[\"product-detail-container\"]}></div>\n      <Divider orientation={\"center\"}>\n        <Typography.Title level={3}>费用</Typography.Title>\n      </Divider>\n      <div\n        dangerouslySetInnerHTML={{ __html: product.fees }}\n        style={{ margin: 50 }}\n      ></div>\n      <div id=\"notes\" className={styles[\"product-detail-container\"]}></div>\n      <Divider orientation={\"center\"}>\n        <Typography.Title level={3}>预定须知</Typography.Title>\n      </Divider>\n      <div\n        dangerouslySetInnerHTML={{ __html: product.notes }}\n        style={{ margin: 50 }}\n      ></div>\n      <div id=\"comments\" className={styles[\"product-detail-container\"]}></div>\n      <Divider orientation={\"center\"}>\n        <Typography.Title level={3}>用户评价</Typography.Title>\n      </Divider>\n      <div style={{ margin: 40 }}>\n        <ProductComments data={commentMockData} />\n      </div>\n    </MainLayout>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}