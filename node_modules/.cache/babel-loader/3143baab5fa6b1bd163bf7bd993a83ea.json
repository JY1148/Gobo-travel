{"ast":null,"code":"var _jsxFileName = \"/Users/jinzhouyan/Desktop/react-travel/src/pages/detail/DetailPage.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Spin, Row, Col, Divider, Typography, Anchor, Menu } from \"antd\";\nimport styles from \"./DetailPage.module.css\";\nimport { Header, Footer, ProductIntro, ProductComments } from \"../../components\";\nimport { DatePicker } from \"antd\";\nimport { commentMockData } from \"./mockup\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  RangePicker\n} = DatePicker;\nexport const DetailPage = () => {\n  _s();\n\n  const {\n    touristRouteId\n  } = useParams(); // const [loading, setLoading] = useState<boolean>(true);\n  // const [product, setProduct] = useState<any>(null);\n  // const [error, setError] = useState<string | null>(null);\n\n  const loading = useSelector(state => state.productDetail.loading);\n  const product = useSelector(state => state.productDetail.data);\n  const error = useSelector(state => state.productDetail.error);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n\n      try {\n        const {\n          data\n        } = await axios.get(`http://123.56.149.216:8080/api/touristRoutes/${touristRouteId}`);\n        setProduct(data);\n        setLoading(false);\n      } catch (error) {\n        if (error instanceof Error) {\n          setError(error.message);\n          setLoading(false);\n        }\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\",\n      style: {\n        marginTop: 200,\n        marginBottom: 200,\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Website Error: \", error, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"page-content\"],\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"product-intro-container\"],\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 13,\n            children: /*#__PURE__*/_jsxDEV(ProductIntro, {\n              title: product.title,\n              shortDescription: product.shortDescription,\n              price: product.originalPrice,\n              coupons: product.coupons,\n              points: product.points,\n              discount: product.price,\n              rating: product.rating,\n              pictures: product.touristRoutePictures.map(p => p.url)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 11,\n            children: /*#__PURE__*/_jsxDEV(RangePicker, {\n              open: true,\n              style: {\n                marginTop: 20\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Anchor, {\n        className: styles[\"product-detail-anchor\"],\n        children: /*#__PURE__*/_jsxDEV(Menu, {\n          mode: \"horizontal\",\n          children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: /*#__PURE__*/_jsxDEV(Anchor.Link, {\n              href: \"#feature\",\n              title: \"\\u4EA7\\u54C1\\u7279\\u8272\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)\n          }, \"1\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: /*#__PURE__*/_jsxDEV(Anchor.Link, {\n              href: \"#fees\",\n              title: \"\\u8D39\\u7528\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)\n          }, \"2\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: /*#__PURE__*/_jsxDEV(Anchor.Link, {\n              href: \"#notes\",\n              title: \"\\u9884\\u5B9A\\u987B\\u77E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)\n          }, \"3\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: /*#__PURE__*/_jsxDEV(Anchor.Link, {\n              href: \"#comments\",\n              title: \"\\u7528\\u6237\\u8BC4\\u4EF7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)\n          }, \"4\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"feature\",\n        className: styles[\"product-detail-container\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        orientation: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Typography.Title, {\n          level: 3,\n          children: \"\\u4EA7\\u54C1\\u7279\\u8272\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: product.features\n        },\n        style: {\n          margin: 50\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"fees\",\n        className: styles[\"product-detail-container\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        orientation: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Typography.Title, {\n          level: 3,\n          children: \"\\u8D39\\u7528\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: product.fees\n        },\n        style: {\n          margin: 50\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"notes\",\n        className: styles[\"product-detail-container\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        orientation: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Typography.Title, {\n          level: 3,\n          children: \"\\u9884\\u5B9A\\u987B\\u77E5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: product.notes\n        },\n        style: {\n          margin: 50\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"comments\",\n        className: styles[\"product-detail-container\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        orientation: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Typography.Title, {\n          level: 3,\n          children: \"\\u7528\\u6237\\u8BC4\\u4EF7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: 40\n        },\n        children: /*#__PURE__*/_jsxDEV(ProductComments, {\n          data: commentMockData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(DetailPage, \"p2A+/H01wTSSEeh2Ahef0PVpsHs=\", false, function () {\n  return [useParams, useSelector, useSelector, useSelector];\n});\n\n_c = DetailPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailPage\");","map":{"version":3,"sources":["/Users/jinzhouyan/Desktop/react-travel/src/pages/detail/DetailPage.tsx"],"names":["React","useEffect","useParams","axios","Spin","Row","Col","Divider","Typography","Anchor","Menu","styles","Header","Footer","ProductIntro","ProductComments","DatePicker","commentMockData","useSelector","RangePicker","DetailPage","touristRouteId","loading","state","productDetail","product","data","error","fetchData","setLoading","get","setProduct","Error","setError","message","marginTop","marginBottom","marginLeft","marginRight","width","title","shortDescription","originalPrice","coupons","points","price","rating","touristRoutePictures","map","p","url","__html","features","margin","fees","notes"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { RouteComponentProps, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Spin, Row, Col, Divider, Typography, Anchor, Menu } from \"antd\";\nimport styles from \"./DetailPage.module.css\";\nimport { Header, Footer, ProductIntro, ProductComments } from \"../../components\";\nimport { DatePicker, Space } from \"antd\";\nimport { commentMockData } from \"./mockup\";\nimport { productDetailSlice } from \"../../redux/productDetail/slice\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { useDispatch } from \"react-redux\";\n\n\nconst { RangePicker } = DatePicker;\n\ninterface MatchParams {\n  touristRouteId: string;\n}\n\nexport const DetailPage: React.FC<RouteComponentProps<MatchParams>> = () => {\n  const { touristRouteId } = useParams<MatchParams>();\n  // const [loading, setLoading] = useState<boolean>(true);\n  // const [product, setProduct] = useState<any>(null);\n  // const [error, setError] = useState<string | null>(null);\n  const loading = useSelector(state => state.productDetail.loading)\n  const product = useSelector(state => state.productDetail.data)\n  const error = useSelector(state => state.productDetail.error);\n  \n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const { data } = await axios.get(\n          `http://123.56.149.216:8080/api/touristRoutes/${touristRouteId}`\n        );\n        setProduct(data);\n        setLoading(false);\n      } catch (error) {\n        if (error instanceof Error) {\n          setError(error.message);\n          setLoading(false);\n        }\n      }\n    };\n    fetchData();\n  }, []);\n  if (loading) {\n    return (\n      <Spin\n        size=\"large\"\n        style={{\n          marginTop: 200,\n          marginBottom: 200,\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n          width: \"100%\",\n        }}\n      />\n    );\n  }\n  if (error) {\n    return <div>Website Error: {error} </div>;\n  }\n  return (\n    <>\n      <Header />\n      <div className={styles[\"page-content\"]}>\n        <div className={styles[\"product-intro-container\"]}>\n          <Row>\n            <Col span={13}>\n              <ProductIntro\n                title={product.title}\n                shortDescription={product.shortDescription}\n                price={product.originalPrice}\n                coupons={product.coupons}\n                points={product.points}\n                discount={product.price}\n                rating={product.rating}\n                pictures={product.touristRoutePictures.map((p) => p.url)}\n              />\n            </Col>\n            <Col span={11}>\n              <RangePicker open style={{ marginTop: 20 }} />\n            </Col>\n          </Row>\n        </div>\n        <Anchor className={styles[\"product-detail-anchor\"]}>\n          <Menu mode=\"horizontal\">\n            <Menu.Item key=\"1\">\n              <Anchor.Link href=\"#feature\" title=\"产品特色\"></Anchor.Link>\n            </Menu.Item>\n            <Menu.Item key=\"2\">\n              <Anchor.Link href=\"#fees\" title=\"费用\"></Anchor.Link>\n            </Menu.Item>\n            <Menu.Item key=\"3\">\n              <Anchor.Link href=\"#notes\" title=\"预定须知\"></Anchor.Link>\n            </Menu.Item>\n            <Menu.Item key=\"4\">\n              <Anchor.Link href=\"#comments\" title=\"用户评价\"></Anchor.Link>\n            </Menu.Item>\n          </Menu>\n        </Anchor>\n        <div id=\"feature\" className={styles[\"product-detail-container\"]}></div>\n        <Divider orientation={\"center\"}>\n          <Typography.Title level={3}>产品特色</Typography.Title>\n        </Divider>\n        <div\n          dangerouslySetInnerHTML={{ __html: product.features }}\n          style={{ margin: 50 }}\n        ></div>\n        <div id=\"fees\" className={styles[\"product-detail-container\"]}></div>\n        <Divider orientation={\"center\"}>\n          <Typography.Title level={3}>费用</Typography.Title>\n        </Divider>\n        <div\n          dangerouslySetInnerHTML={{ __html: product.fees }}\n          style={{ margin: 50 }}\n        ></div>\n        <div id=\"notes\" className={styles[\"product-detail-container\"]}></div>\n        <Divider orientation={\"center\"}>\n          <Typography.Title level={3}>预定须知</Typography.Title>\n        </Divider>\n        <div\n          dangerouslySetInnerHTML={{ __html: product.notes }}\n          style={{ margin: 50 }}\n        ></div>\n        <div id=\"comments\" className={styles[\"product-detail-container\"]}></div>\n        <Divider orientation={\"center\"}>\n          <Typography.Title level={3}>用户评价</Typography.Title>\n        </Divider>\n        <div style={{margin:40}}>\n          <ProductComments data={commentMockData}/>\n        </div>\n\n      </div>\n      <Footer />\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}