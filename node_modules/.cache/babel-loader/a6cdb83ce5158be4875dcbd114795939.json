{"ast":null,"code":"var _jsxFileName = \"/Users/jinzhouyan/Desktop/react-travel/src/pages/search/Searchpage.tsx\",\n    _s = $RefreshSig$();\n\nimport styles from \"./SearchPage.module.css\";\nimport React, { useEffect } from \"react\";\nimport { Header, Footer, FilterArea, ProductList } from \"../../components\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport { Spin } from \"antd\";\nimport { searchProduct } from \"../../redux/productSearch/slice\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const SearchPage = () => {\n  _s();\n\n  const {\n    keywords\n  } = useParams();\n  const loading = useSelector(state => state.productSearch.loading);\n  const error = useSelector(state => state.productSearch.error);\n  const productList = useSelector(state => state.productSearch.data);\n  const pagination = useSelector(state => state.productSearch.pagination);\n  const dispatch = useDispatch();\n  const location = useLocation();\n  useEffect(() => {\n    dispatch(searchProduct({\n      nextPage: 1,\n      pageSize: 10,\n      keywords\n    }));\n  }, [location]);\n\n  const onPageChange = (nextPage, pageSize) => {\n    dispatch(searchProduct({\n      nextPage,\n      pageSize,\n      keywords: keywords\n    }));\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\",\n      style: {\n        marginTop: 200,\n        marginBottom: 200,\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Website Error: \", error, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"page-content\"],\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"product-list-container\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FilterArea, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"product-list-container\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductList, {\n        data: productList,\n        paging: pagination,\n        onPageChange: onPageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SearchPage, \"luOpvYHYeFv4/wytHTika00gdfs=\", false, function () {\n  return [useParams, useSelector, useSelector, useSelector, useSelector, useDispatch, useLocation];\n});\n\n_c = SearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"sources":["/Users/jinzhouyan/Desktop/react-travel/src/pages/search/Searchpage.tsx"],"names":["styles","React","useEffect","Header","Footer","FilterArea","ProductList","useParams","useLocation","Spin","searchProduct","useSelector","useDispatch","SearchPage","keywords","loading","state","productSearch","error","productList","data","pagination","dispatch","location","nextPage","pageSize","onPageChange","marginTop","marginBottom","marginLeft","marginRight","width"],"mappings":"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","sourcesContent":["import styles from \"./SearchPage.module.css\";\nimport React, { useEffect } from \"react\";\nimport { Header, Footer, FilterArea, ProductList } from \"../../components\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport { Spin } from \"antd\";\nimport { searchProduct } from \"../../redux/productSearch/slice\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { useDispatch } from \"react-redux\";\n\ninterface MatchParams {\n  keywords: string;\n}\n\nexport const SearchPage: React.FC = () => {\n  const { keywords } = useParams<MatchParams>();\n\n  const loading = useSelector((state) => state.productSearch.loading);\n  const error = useSelector((state) => state.productSearch.error);\n  const productList = useSelector((state) => state.productSearch.data);\n  const pagination = useSelector((state) => state.productSearch.pagination);\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n\n  useEffect(() => {\n    dispatch(searchProduct({ nextPage: 1, pageSize: 10, keywords}))\n  }, [location]);\n\n  const onPageChange = (nextPage, pageSize) => {\n    dispatch(searchProduct({ nextPage, pageSize, keywords: keywords }));\n  };\n  if (loading) {\n    return (\n      <Spin\n        size=\"large\"\n        style={{\n          marginTop: 200,\n          marginBottom: 200,\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n          width: \"100%\",\n        }}\n      />\n    );\n  }\n  if (error) {\n    return <div>Website Error: {error} </div>;\n  }\n\n  return (\n    <>\n      <Header />\n      <div className={styles[\"page-content\"]}>\n        {/* 分类过滤器 */}\n        <div className={styles[\"product-list-container\"]}></div>\n        <FilterArea />\n        {/* 产品列表 */}\n        <div className={styles[\"product-list-container\"]}></div>\n        <ProductList\n          data={productList}\n          paging={pagination}\n          onPageChange={onPageChange}\n        />\n      </div>\n      <Footer />\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}