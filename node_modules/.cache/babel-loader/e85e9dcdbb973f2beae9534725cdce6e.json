{"ast":null,"code":"import React from\"react\";import{Skeleton,Card,Button,Typography,Table}from\"antd\";import{CheckCircleOutlined,HomeOutlined}from\"@ant-design/icons\";import{useHistory}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Meta=Card.Meta;var Title=Typography.Title,Text=Typography.Text;var columns=[{title:\"产品\",dataIndex:\"item\",key:\"item\"},{title:\"价格\",dataIndex:\"amount\",key:\"amount\"}];export var CheckOutCard=function CheckOutCard(_ref){var loading=_ref.loading,order=_ref.order,onCheckout=_ref.onCheckout;var history=useHistory();var paymentData=order?order.orderItems.map(function(i,index){return{key:index,item:i.touristRoute.title,amount:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Text,{delete:true,children:[\"\\xA5 \",i.originalPrice,\" \"]}),\" \",/*#__PURE__*/_jsxs(Text,{type:\"danger\",strong:true,children:[\"\\xA5 \",i.originalPrice*i.discountPresent]})]})};}):[];return/*#__PURE__*/_jsx(Card,{style:{width:600,marginTop:50},actions:[order&&order.state===\"Completed\"?/*#__PURE__*/_jsxs(Button,{type:\"primary\",onClick:function onClick(){history.push(\"/\");},loading:loading,children:[/*#__PURE__*/_jsx(HomeOutlined,{}),\"\\u56DE\\u5230\\u9996\\u9875\"]}):/*#__PURE__*/_jsxs(Button,{type:\"primary\",danger:true,onClick:onCheckout,loading:loading,children:[/*#__PURE__*/_jsx(CheckCircleOutlined,{}),\"\\u652F\\u4ED8\"]})],children:/*#__PURE__*/_jsx(Skeleton,{loading:loading,active:true,children:/*#__PURE__*/_jsx(Meta,{title:/*#__PURE__*/_jsx(Title,{level:2,children:order&&order.state===\"Completed\"?\"支付成功\":\"总计\"}),description:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:paymentData,showHeader:false,size:\"small\",bordered:false,pagination:false})})})});};","map":{"version":3,"sources":["/Users/jinzhouyan/Desktop/react-travel/src/components/checkOutCard/CheckOutCard.tsx"],"names":["React","Skeleton","Card","Button","Typography","Table","CheckCircleOutlined","HomeOutlined","useHistory","Meta","Title","Text","columns","title","dataIndex","key","CheckOutCard","loading","order","onCheckout","history","paymentData","orderItems","map","i","index","item","touristRoute","amount","originalPrice","discountPresent","width","marginTop","state","push"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,IAAnB,CAAyBC,MAAzB,CAAiCC,UAAjC,CAA6CC,KAA7C,KAA0D,MAA1D,CACA,OAASC,mBAAT,CAA8BC,YAA9B,KAAkD,mBAAlD,CAEA,OAASC,UAAT,KAA2B,kBAA3B,C,6IAEA,GAAQC,CAAAA,IAAR,CAAiBP,IAAjB,CAAQO,IAAR,CACA,GAAQC,CAAAA,KAAR,CAAwBN,UAAxB,CAAQM,KAAR,CAAeC,IAAf,CAAwBP,UAAxB,CAAeO,IAAf,CAQA,GAAMC,CAAAA,OAA+B,CAAG,CACtC,CACEC,KAAK,CAAE,IADT,CAEEC,SAAS,CAAE,MAFb,CAGEC,GAAG,CAAE,MAHP,CADsC,CAMtC,CACEF,KAAK,CAAE,IADT,CAEEC,SAAS,CAAE,QAFb,CAGEC,GAAG,CAAE,QAHP,CANsC,CAAxC,CAmBA,MAAO,IAAMC,CAAAA,YAAiC,CAAG,QAApCA,CAAAA,YAAoC,MAI3C,IAHJC,CAAAA,OAGI,MAHJA,OAGI,CAFJC,KAEI,MAFJA,KAEI,CADJC,UACI,MADJA,UACI,CACJ,GAAMC,CAAAA,OAAO,CAAGZ,UAAU,EAA1B,CAEA,GAAMa,CAAAA,WAAwB,CAAGH,KAAK,CAClCA,KAAK,CAACI,UAAN,CAAiBC,GAAjB,CAAqB,SAACC,CAAD,CAAIC,KAAJ,QAAe,CAClCV,GAAG,CAAEU,KAD6B,CAElCC,IAAI,CAAEF,CAAC,CAACG,YAAF,CAAed,KAFa,CAGlCe,MAAM,cACF,wCACE,MAAC,IAAD,EAAM,MAAM,KAAZ,mBAAgBJ,CAAC,CAACK,aAAlB,OADF,CAC2C,GAD3C,cAEE,MAAC,IAAD,EAAM,IAAI,CAAC,QAAX,CAAoB,MAAM,KAA1B,mBACKL,CAAC,CAACK,aAAF,CAAkBL,CAAC,CAACM,eADzB,GAFF,GAJ8B,CAAf,EAArB,CADkC,CAalC,EAbJ,CAeA,mBACE,KAAC,IAAD,EACE,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAT,CAAcC,SAAS,CAAE,EAAzB,CADT,CAEE,OAAO,CAAE,CACPd,KAAK,EAAIA,KAAK,CAACe,KAAN,GAAgB,WAAzB,cACE,MAAC,MAAD,EACE,IAAI,CAAC,SADP,CAEE,OAAO,CAAE,kBAAM,CACbb,OAAO,CAACc,IAAR,CAAa,GAAb,EACD,CAJH,CAKE,OAAO,CAAEjB,OALX,wBAOE,KAAC,YAAD,IAPF,8BADF,cAYE,MAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,MAAM,KAA7B,CAA8B,OAAO,CAAEE,UAAvC,CAAmD,OAAO,CAAEF,OAA5D,wBACE,KAAC,mBAAD,IADF,kBAbK,CAFX,uBAsBE,KAAC,QAAD,EAAU,OAAO,CAAEA,OAAnB,CAA4B,MAAM,KAAlC,uBACE,KAAC,IAAD,EACE,KAAK,cACH,KAAC,KAAD,EAAO,KAAK,CAAE,CAAd,UACGC,KAAK,EAAIA,KAAK,CAACe,KAAN,GAAgB,WAAzB,CAAuC,MAAvC,CAAgD,IADnD,EAFJ,CAME,WAAW,cACT,KAAC,KAAD,EACE,OAAO,CAAErB,OADX,CAEE,UAAU,CAAES,WAFd,CAGE,UAAU,CAAE,KAHd,CAIE,IAAI,CAAC,OAJP,CAKE,QAAQ,CAAE,KALZ,CAME,UAAU,CAAE,KANd,EAPJ,EADF,EAtBF,EADF,CA4CD,CAlEM","sourcesContent":["import React from \"react\";\nimport { Skeleton, Card, Button, Typography, Table } from \"antd\";\nimport { CheckCircleOutlined, HomeOutlined } from \"@ant-design/icons\";\nimport { ColumnsType } from \"antd/es/table\";\nimport { useHistory } from \"react-router-dom\";\n\nconst { Meta } = Card;\nconst { Title, Text } = Typography;\n\ninterface OrderItem {\n  key: number;\n  item: string;\n  amount: string | number | JSX.Element;\n}\n\nconst columns: ColumnsType<OrderItem> = [\n  {\n    title: \"产品\",\n    dataIndex: \"item\",\n    key: \"item\",\n  },\n  {\n    title: \"价格\",\n    dataIndex: \"amount\",\n    key: \"amount\",\n  },\n];\n\ninterface PropsType {\n  loading: boolean;\n  order: any;\n  onCheckout: () => void;\n}\n\nexport const CheckOutCard: React.FC<PropsType> = ({\n  loading,\n  order,\n  onCheckout,\n}) => {\n  const history = useHistory();\n\n  const paymentData: OrderItem[] = order\n    ? order.orderItems.map((i, index) => ({\n        key: index,\n        item: i.touristRoute.title,\n        amount: (\n            <>\n              <Text delete>¥ {i.originalPrice} </Text>{\" \"}\n              <Text type=\"danger\" strong>\n                ¥ {i.originalPrice * i.discountPresent}\n              </Text>\n            </>\n          ),\n      }))\n    : [];\n\n  return (\n    <Card\n      style={{ width: 600, marginTop: 50 }}\n      actions={[\n        order && order.state === \"Completed\" ? (\n          <Button\n            type=\"primary\"\n            onClick={() => {\n              history.push(\"/\");\n            }}\n            loading={loading}\n          >\n            <HomeOutlined />\n            回到首页\n          </Button>\n        ) : (\n          <Button type=\"primary\" danger onClick={onCheckout} loading={loading}>\n            <CheckCircleOutlined />\n            支付\n          </Button>\n        ),\n      ]}\n    >\n      <Skeleton loading={loading} active>\n        <Meta\n          title={\n            <Title level={2}>\n              {order && order.state === \"Completed\" ? \"支付成功\" : \"总计\"}\n            </Title>\n          }\n          description={\n            <Table<OrderItem>\n              columns={columns}\n              dataSource={paymentData}\n              showHeader={false}\n              size=\"small\"\n              bordered={false}\n              pagination={false}\n            />\n          }\n        />\n      </Skeleton>\n    </Card>\n  );\n};"]},"metadata":{},"sourceType":"module"}