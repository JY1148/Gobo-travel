{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst initialState = {\n  loading: false,\n  error: null,\n  token: null\n};\nexport const signIn = createAsyncThunk(\"user/signIn\", async (paramaters, thunkAPI) => {\n  const {\n    token\n  } = await axios.post(`http://123.56.149.216:8080/auth/login`, {\n    email: paramaters.email,\n    password: paramaters.password\n  });\n  return token;\n});\nexport const UserSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [signIn.pending.type]: state => {\n      //return {...state, loading:true};\n      state.loading = true;\n    },\n    [signIn.fulfilled.type]: (state, action) => {\n      console.log(action.payload);\n      state.loading = false;\n      state.token = action.payload;\n      state.error = null;\n    },\n    [signIn.rejected.type]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }\n  }\n});","map":{"version":3,"sources":["/Users/jinzhouyan/Desktop/react-travel/src/redux/user/slice.ts"],"names":["createSlice","createAsyncThunk","axios","initialState","loading","error","token","signIn","paramaters","thunkAPI","post","email","password","UserSlice","name","reducers","extraReducers","pending","type","state","fulfilled","action","console","log","payload","rejected"],"mappings":"AAAA,SAASA,WAAT,EAAqCC,gBAArC,QAA6D,kBAA7D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAQA,MAAMC,YAAuB,GAAG;AAC5BC,EAAAA,OAAO,EAAE,KADmB;AAE5BC,EAAAA,KAAK,EAAE,IAFqB;AAG5BC,EAAAA,KAAK,EAAE;AAHqB,CAAhC;AAMA,OAAO,MAAMC,MAAM,GAAGN,gBAAgB,CAClC,aADkC,EAElC,OAAOO,UAAP,EAGGC,QAHH,KAGgB;AACZ,QAAM;AAAEH,IAAAA;AAAF,MAAY,MAAMJ,KAAK,CAACQ,IAAN,CACvB,uCADuB,EACiB;AACrCC,IAAAA,KAAK,EAAEH,UAAU,CAACG,KADmB;AAErCC,IAAAA,QAAQ,EAAEJ,UAAU,CAACI;AAFgB,GADjB,CAAxB;AAMA,SAAON,KAAP;AACH,CAbiC,CAA/B;AAgBP,OAAO,MAAMO,SAAS,GAAGb,WAAW,CAAC;AACjCc,EAAAA,IAAI,EAAE,MAD2B;AAEjCX,EAAAA,YAFiC;AAGjCY,EAAAA,QAAQ,EAAE,EAHuB;AAK9BC,EAAAA,aAAa,EAAE;AACd,KAACT,MAAM,CAACU,OAAP,CAAeC,IAAhB,GAAwBC,KAAD,IAAW;AAC9B;AACAA,MAAAA,KAAK,CAACf,OAAN,GAAgB,IAAhB;AACH,KAJa;AAKd,KAACG,MAAM,CAACa,SAAP,CAAiBF,IAAlB,GAAyB,CAACC,KAAD,EAAQE,MAAR,KAAmB;AACxCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,OAAnB;AACAL,MAAAA,KAAK,CAACf,OAAN,GAAgB,KAAhB;AACAe,MAAAA,KAAK,CAACb,KAAN,GAAce,MAAM,CAACG,OAArB;AACAL,MAAAA,KAAK,CAACd,KAAN,GAAc,IAAd;AACH,KAVa;AAWd,KAACE,MAAM,CAACkB,QAAP,CAAgBP,IAAjB,GAAwB,CAACC,KAAD,EAAQE,MAAR,KAAiD;AACrEF,MAAAA,KAAK,CAACf,OAAN,GAAgB,KAAhB;AACAe,MAAAA,KAAK,CAACd,KAAN,GAAcgB,MAAM,CAACG,OAArB;AACH;AAda;AALe,CAAD,CAA7B","sourcesContent":["import { createSlice, PayloadAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\ninterface UserState {\n    loading: boolean;\n    error: string | null;\n    token: string | null;\n}\n\nconst initialState: UserState = {\n    loading: false,\n    error: null,\n    token: null,\n\n}\nexport const signIn = createAsyncThunk(\n    \"user/signIn\",\n    async (paramaters: {\n        email: string,\n        password: string,\n    }, thunkAPI) => {\n        const { token } = await axios.post(\n        `http://123.56.149.216:8080/auth/login`, {\n            email: paramaters.email,\n            password: paramaters.password\n            }\n        );\n        return token;\n    }\n);\n\nexport const UserSlice = createSlice({\n    name: \"user\",\n    initialState,\n    reducers: {\n\n    }, extraReducers: {\n        [signIn.pending.type]: (state) => {\n            //return {...state, loading:true};\n            state.loading = true;\n        },\n        [signIn.fulfilled.type]: (state, action) => {\n            console.log(action.payload);\n            state.loading = false;\n            state.token = action.payload;\n            state.error = null;\n        },\n        [signIn.rejected.type]: (state, action: PayloadAction<string | null>) => {\n            state.loading = false;\n            state.error = action.payload\n        }\n    }\n})"]},"metadata":{},"sourceType":"module"}