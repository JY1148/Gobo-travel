{"ast":null,"code":"var _jsxFileName = \"/Users/jinzhouyan/Desktop/react-travel/src/pages/search/Searchpage.tsx\",\n    _s = $RefreshSig$();\n\nimport styles from \"./SearchPage.module.css\";\nimport React, { useEffect } from \"react\";\nimport { Header, Footer, FilterArea, ProductList } from \"../../components\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport { Spin } from \"antd\";\nimport { searchProduct } from \"../../redux/productSearch/slice\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const SearchPage = () => {\n  _s();\n\n  const {\n    keywords\n  } = useParams();\n  const loading = useSelector(state => state.productSearch.loading);\n  const error = useSelector(state => state.productSearch.error);\n  const productList = useSelector(state => state.productSearch.data);\n  const pagination = useSelector(state => state.productSearch.pagination);\n  const dispatch = useDispatch();\n  const location = useLocation();\n  useEffect(() => {\n    dispatch(searchProduct({\n      nextPage: 1,\n      pageSize: 10,\n      keywords: keywords\n    }));\n  }, [location]);\n\n  const onPageChange = (nextPage, pageSize) => {\n    dispatch(searchProduct({\n      nextPage,\n      pageSize,\n      keywords: keywords\n    }));\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\",\n      style: {\n        marginTop: 200,\n        marginBottom: 200,\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Website Error: \", error, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"page-content\"],\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"product-list-container\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(FilterArea, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"product-list-container\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ProductList, {\n        data: productList,\n        paging: pagination,\n        onPageChange: onPageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SearchPage, \"luOpvYHYeFv4/wytHTika00gdfs=\", false, function () {\n  return [useParams, useSelector, useSelector, useSelector, useSelector, useDispatch, useLocation];\n});\n\n_c = SearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"sources":["/Users/jinzhouyan/Desktop/react-travel/src/pages/search/Searchpage.tsx"],"names":["styles","React","useEffect","Header","Footer","FilterArea","ProductList","useParams","useLocation","Spin","searchProduct","useSelector","useDispatch","SearchPage","keywords","loading","state","productSearch","error","productList","data","pagination","dispatch","location","nextPage","pageSize","onPageChange","marginTop","marginBottom","marginLeft","marginRight","width"],"mappings":"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","sourcesContent":["import styles from \"./SearchPage.module.css\";\nimport React, {useEffect} from \"react\";\nimport {Header, Footer, FilterArea, ProductList} from \"../../components\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport {Spin} from \"antd\";\nimport { searchProduct } from \"../../redux/productSearch/slice\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { useDispatch } from \"react-redux\";\n\ninterface MatchParams{\n    keywords: string\n}\n\nexport const SearchPage: React.FC = () =>{\n    const { keywords } = useParams<MatchParams>()\n\n    const loading = useSelector(state =>state.productSearch.loading);\n    const error = useSelector(state =>state.productSearch.error);\n    const productList = useSelector(state =>state.productSearch.data);\n    const pagination = useSelector(state =>state.productSearch.pagination);\n\n    const dispatch = useDispatch();\n    const location = useLocation();\n\n    useEffect(()=>{\n        dispatch(searchProduct({nextPage:1,pageSize:10,keywords:keywords}))\n    },[location])\n\n    const onPageChange = (nextPage, pageSize) => {\n        dispatch(searchProduct({nextPage,pageSize,keywords:keywords}))\n    }\n    if (loading) {\n        return (\n          <Spin\n            size=\"large\"\n            style={{\n              marginTop: 200,\n              marginBottom: 200,\n              marginLeft: \"auto\",\n              marginRight: \"auto\",\n              width: \"100%\",\n            }}\n          />\n        );\n      }\n      if (error) {\n        return <div>Website Error: {error} </div>;\n      }\n    \n    return <>\n    <Header/>\n    <div className={styles[\"page-content\"]}>\n    {/* 分类过滤器 */}\n    <div className={styles[\"product-list-container\"]}></div>\n        <FilterArea/>\n    {/* 产品列表 */}\n    <div className={styles[\"product-list-container\"]}></div>\n        <ProductList\n            data={productList}\n            paging={pagination}\n            onPageChange={onPageChange}\n        />\n    </div>\n    <Footer/>\n    </>\n\n}"]},"metadata":{},"sourceType":"module"}