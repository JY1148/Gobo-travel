{"ast":null,"code":"var _jsxFileName = \"/Users/jinzhouyan/Desktop/react-travel/src/pages/search/Searchpage.tsx\",\n    _s = $RefreshSig$();\n\nimport styles from \"./SearchPage.module.css\";\nimport React, { useEffect } from \"react\";\nimport { FilterArea, ProductList } from \"../../components\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport { Spin } from \"antd\";\nimport { searchProduct } from \"../../redux/productSearch/slice\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { useDispatch } from \"react-redux\";\nimport { MainLayout } from \"../../layouts/mainLayout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SearchPage = () => {\n  _s();\n\n  const {\n    keywords\n  } = useParams();\n  const loading = useSelector(state => state.productSearch.loading);\n  const error = useSelector(state => state.productSearch.error);\n  const productList = useSelector(state => state.productSearch.data);\n  const pagination = useSelector(state => state.productSearch.pagination);\n  const dispatch = useDispatch();\n  const location = useLocation();\n  useEffect(() => {\n    dispatch(searchProduct({\n      nextPage: 1,\n      pageSize: 10,\n      keywords\n    }));\n  }, [location]);\n\n  const onPageChange = (nextPage, pageSize) => {\n    dispatch(searchProduct({\n      nextPage,\n      pageSize,\n      keywords\n    }));\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\",\n      style: {\n        marginTop: 200,\n        marginBottom: 200,\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (error) {\n    console.log('3');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Website Error: \", error, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"product-list-container\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FilterArea, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"product-list-container\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductList, {\n      data: productList,\n      paging: pagination,\n      onPageChange: onPageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchPage, \"luOpvYHYeFv4/wytHTika00gdfs=\", false, function () {\n  return [useParams, useSelector, useSelector, useSelector, useSelector, useDispatch, useLocation];\n});\n\n_c = SearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"sources":["/Users/jinzhouyan/Desktop/react-travel/src/pages/search/Searchpage.tsx"],"names":["styles","React","useEffect","FilterArea","ProductList","useParams","useLocation","Spin","searchProduct","useSelector","useDispatch","MainLayout","SearchPage","keywords","loading","state","productSearch","error","productList","data","pagination","dispatch","location","nextPage","pageSize","onPageChange","marginTop","marginBottom","marginLeft","marginRight","width","console","log"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,yBAAnB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAyBC,UAAzB,EAAqCC,WAArC,QAAwD,kBAAxD;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,kBAAvC;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,SAASC,aAAT,QAA8B,iCAA9B;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,0BAA3B;;AAKA,OAAO,MAAMC,UAAoB,GAAG,MAAM;AAAA;;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAeR,SAAS,EAA9B;AAEA,QAAMS,OAAO,GAAGL,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACC,aAAN,CAAoBF,OAAhC,CAA3B;AACA,QAAMG,KAAK,GAAGR,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACC,aAAN,CAAoBC,KAAhC,CAAzB;AACA,QAAMC,WAAW,GAAGT,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACC,aAAN,CAAoBG,IAAhC,CAA/B;AACA,QAAMC,UAAU,GAAGX,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACC,aAAN,CAAoBI,UAAhC,CAA9B;AAEA,QAAMC,QAAQ,GAAGX,WAAW,EAA5B;AACA,QAAMY,QAAQ,GAAGhB,WAAW,EAA5B;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AACdmB,IAAAA,QAAQ,CAACb,aAAa,CAAC;AAAEe,MAAAA,QAAQ,EAAE,CAAZ;AAAeC,MAAAA,QAAQ,EAAE,EAAzB;AAA6BX,MAAAA;AAA7B,KAAD,CAAd,CAAR;AACD,GAFQ,EAEN,CAACS,QAAD,CAFM,CAAT;;AAIA,QAAMG,YAAY,GAAG,CAACF,QAAD,EAAWC,QAAX,KAAwB;AAC3CH,IAAAA,QAAQ,CAACb,aAAa,CAAC;AAAEe,MAAAA,QAAF;AAAYC,MAAAA,QAAZ;AAAsBX,MAAAA;AAAtB,KAAD,CAAd,CAAR;AACD,GAFD;;AAGA,MAAIC,OAAJ,EAAa;AACX,wBACE,QAAC,IAAD;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,KAAK,EAAE;AACLY,QAAAA,SAAS,EAAE,GADN;AAELC,QAAAA,YAAY,EAAE,GAFT;AAGLC,QAAAA,UAAU,EAAE,MAHP;AAILC,QAAAA,WAAW,EAAE,MAJR;AAKLC,QAAAA,KAAK,EAAE;AALF;AAFT;AAAA;AAAA;AAAA;AAAA,YADF;AAYD;;AACD,MAAIb,KAAJ,EAAW;AACTc,IAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACA,wBAAO;AAAA,oCAAqBf,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,sBACE,QAAC,UAAD;AAAA,4BAEE;AAAK,MAAA,SAAS,EAAEjB,MAAM,CAAC,wBAAD;AAAtB;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,YAHF,eAKE;AAAK,MAAA,SAAS,EAAEA,MAAM,CAAC,wBAAD;AAAtB;AAAA;AAAA;AAAA;AAAA,YALF,eAME,QAAC,WAAD;AACE,MAAA,IAAI,EAAEkB,WADR;AAEE,MAAA,MAAM,EAAEE,UAFV;AAGE,MAAA,YAAY,EAAEK;AAHhB;AAAA;AAAA;AAAA;AAAA,YANF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAcD,CAnDM;;GAAMb,U;UACUP,S,EAELI,W,EACFA,W,EACMA,W,EACDA,W,EAEFC,W,EACAJ,W;;;KATNM,U","sourcesContent":["import styles from \"./SearchPage.module.css\";\nimport React, { useEffect } from \"react\";\nimport { Header, Footer, FilterArea, ProductList } from \"../../components\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport { Spin } from \"antd\";\nimport { searchProduct } from \"../../redux/productSearch/slice\";\nimport { useSelector } from \"../../redux/hooks\";\nimport { useDispatch } from \"react-redux\";\nimport { MainLayout } from \"../../layouts/mainLayout\";\ninterface MatchParams {\n  keywords: string;\n}\n\nexport const SearchPage: React.FC = () => {\n  const { keywords } = useParams<MatchParams>();\n\n  const loading = useSelector((state) => state.productSearch.loading);\n  const error = useSelector((state) => state.productSearch.error);\n  const productList = useSelector((state) => state.productSearch.data);\n  const pagination = useSelector((state) => state.productSearch.pagination);\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n\n  useEffect(() => {\n    dispatch(searchProduct({ nextPage: 1, pageSize: 10, keywords }));\n  }, [location]);\n\n  const onPageChange = (nextPage, pageSize) => {\n    dispatch(searchProduct({ nextPage, pageSize, keywords }));\n  };\n  if (loading) {\n    return (\n      <Spin\n        size=\"large\"\n        style={{\n          marginTop: 200,\n          marginBottom: 200,\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n          width: \"100%\",\n        }}\n      />\n    );\n  }\n  if (error) {\n    console.log('3');\n    return <div>Website Error: {error} </div>;\n  }\n\n  return (\n    <MainLayout>\n      {/* 分类过滤器 */}\n      <div className={styles[\"product-list-container\"]}></div>\n      <FilterArea />\n      {/* 产品列表 */}\n      <div className={styles[\"product-list-container\"]}></div>\n      <ProductList\n        data={productList}\n        paging={pagination}\n        onPageChange={onPageChange}\n      />\n    </MainLayout>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}