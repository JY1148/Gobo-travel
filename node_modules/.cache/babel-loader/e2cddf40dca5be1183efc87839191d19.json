{"ast":null,"code":"import _defineProperty from\"/Users/jinzhouyan/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/jinzhouyan/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jinzhouyan/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var _extraReducers;import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";var initialState={loading:true,error:null,data:null};export var getProductDetail=createAsyncThunk(\"productDetail/getPoductDetail\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(touristRouteId,thunkAPI){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://123.56.149.216:8080/api/touristRoutes/\".concat(touristRouteId));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var productDetailSlice=createSlice({name:\"productDetail\",initialState:initialState,reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,getProductDetail.pending.type,function(state){//return {...state, loading:true};\nstate.loading=true;}),_defineProperty(_extraReducers,getProductDetail.fulfilled.type,function(state,action){state.loading=false;state.data=action.payload;state.error=null;}),_defineProperty(_extraReducers,getProductDetail.rejected.type,function(state,action){state.loading=false;state.error=action.payload;}),_extraReducers)});","map":{"version":3,"sources":["/Users/jinzhouyan/Desktop/react-travel/src/redux/productDetail/slice.ts"],"names":["createSlice","createAsyncThunk","axios","initialState","loading","error","data","getProductDetail","touristRouteId","thunkAPI","get","productDetailSlice","name","reducers","extraReducers","pending","type","state","fulfilled","action","payload","rejected"],"mappings":"yeAAA,OAASA,WAAT,CAAqCC,gBAArC,KAA6D,kBAA7D,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAOA,GAAMC,CAAAA,YAAgC,CAAG,CACrCC,OAAO,CAAE,IAD4B,CAErCC,KAAK,CAAE,IAF8B,CAGrCC,IAAI,CAAE,IAH+B,CAAzC,CAMA,MAAO,IAAMC,CAAAA,gBAAgB,CAAGN,gBAAgB,CAC5C,+BAD4C,0FAE5C,iBAAOO,cAAP,CAA+BC,QAA/B,kKAC2BP,CAAAA,KAAK,CAACQ,GAAN,wDACyBF,cADzB,EAD3B,uCACYF,IADZ,kBACYA,IADZ,iCAIWA,IAJX,wDAF4C,mEAAzC,CAUP,MAAO,IAAMK,CAAAA,kBAAkB,CAAGX,WAAW,CAAC,CAC1CY,IAAI,CAAE,eADoC,CAE1CT,YAAY,CAAZA,YAF0C,CAG1CU,QAAQ,CAAE,EAHgC,CAKxCC,aAAa,mDACVP,gBAAgB,CAACQ,OAAjB,CAAyBC,IADf,CACsB,SAACC,KAAD,CAAU,CACvC;AACAA,KAAK,CAACb,OAAN,CAAgB,IAAhB,CACH,CAJU,iCAKVG,gBAAgB,CAACW,SAAjB,CAA2BF,IALjB,CAKwB,SAACC,KAAD,CAAQE,MAAR,CAAkB,CACjDF,KAAK,CAACb,OAAN,CAAgB,KAAhB,CACAa,KAAK,CAACX,IAAN,CAAaa,MAAM,CAACC,OAApB,CACAH,KAAK,CAACZ,KAAN,CAAc,IAAd,CACH,CATU,iCAUVE,gBAAgB,CAACc,QAAjB,CAA0BL,IAVhB,CAUuB,SAACC,KAAD,CAAQE,MAAR,CAAgD,CAC9EF,KAAK,CAACb,OAAN,CAAgB,KAAhB,CACAa,KAAK,CAACZ,KAAN,CAAcc,MAAM,CAACC,OAArB,CACH,CAbU,iBAL2B,CAAD,CAAtC","sourcesContent":["import { createSlice, PayloadAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\ninterface ProductDetailState{\n    loading: boolean;\n    error: string | null;\n    data: any;\n}\n\nconst initialState: ProductDetailState = {\n    loading: true,\n    error: null,\n    data: null,\n    \n}\nexport const getProductDetail = createAsyncThunk(\n    \"productDetail/getPoductDetail\",\n    async (touristRouteId: string, thunkAPI) => {\n        const { data } = await axios.get(\n        `http://123.56.149.216:8080/api/touristRoutes/${touristRouteId}`\n        );\n        return data;\n    }\n)\n\nexport const productDetailSlice = createSlice({\n    name: \"productDetail\",\n    initialState,\n    reducers: {\n        \n    },extraReducers:{\n        [getProductDetail.pending.type]: (state) =>{\n            //return {...state, loading:true};\n            state.loading = true;\n        },\n        [getProductDetail.fulfilled.type]: (state, action) =>{\n            state.loading = false;\n            state.data = action.payload;\n            state.error = null;\n        },\n        [getProductDetail.rejected.type]: (state, action: PayloadAction<string | null>) =>{\n            state.loading = false;\n            state.error = action.payload;\n        }\n    }\n})"]},"metadata":{},"sourceType":"module"}