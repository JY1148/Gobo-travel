{"ast":null,"code":"var _jsxFileName = \"/Users/jinzhouyan/Desktop/react-travel/src/pages/home/HomePage.tsx\";\nimport React from \"react\";\nimport styles from \"./HomePage.module.css\";\nimport { Header, Footer, Carousel, SideMenu, ProductCollection, FeaturedClients } from \"../../components\";\nimport { Row, Col, Typography, Spin } from \"antd\";\nimport sideImgae1 from \"../../assets/image/sider_11.png\";\nimport sideImgae2 from \"../../assets/image/sider_22.png\";\nimport sideImgae3 from \"../../assets/image/sider_33.png\";\nimport { withTranslation } from \"react-i18next\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { fetchRecommendProductStartActionCreator, fetchRecommendProductSuccessActionCreator, fetchRecommendProductFailActionCreator } from \"../../redux/recommendProducts/recommendProductsActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.recommendProducts.loading,\n    error: state.recommendProducts.error,\n    productList: state.recommendProducts.productList\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchStart: () => {\n      dispatch(fetchRecommendProductStartActionCreator());\n    },\n    fetchSuccess: data => {\n      dispatch(fetchRecommendProductSuccessActionCreator(data));\n    },\n    fetchFail: error => {\n      dispatch(fetchRecommendProductFailActionCreator(error));\n    }\n  };\n};\n\nclass HomePageComponent extends React.Component {\n  async componentDidMount() {\n    this.props.fetchStart();\n\n    try {\n      const {\n        data\n      } = await axios.get(\"http://123.56.149.216:8080/api/productCollections\");\n      this.props.fetchSuccess(data);\n    } catch (error) {\n      if (error instanceof Error) {\n        this.props.fetchFail(error.message);\n      }\n    }\n  }\n\n  render() {\n    // console.log(this.props.t)\n    const {\n      t,\n      productList,\n      loading,\n      error\n    } = this.props;\n\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(Spin, {\n        size: \"large\",\n        style: {\n          marginTop: 200,\n          marginBottom: 200,\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Website Error: \", error, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"page-content\"],\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            marginTop: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 6,\n            children: /*#__PURE__*/_jsxDEV(SideMenu, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 18,\n            children: /*#__PURE__*/_jsxDEV(Carousel, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductCollection, {\n          title: /*#__PURE__*/_jsxDEV(Typography.Title, {\n            level: 3,\n            type: \"warning\",\n            children: t(\"home_page.hot_recommended\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this),\n          sideImage: sideImgae1,\n          products: productList[0].touristRoutes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductCollection, {\n          title: /*#__PURE__*/_jsxDEV(Typography.Title, {\n            level: 3,\n            type: \"danger\",\n            children: t(\"home_page.new_arrival\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this),\n          sideImage: sideImgae2,\n          products: productList[1].touristRoutes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductCollection, {\n          title: /*#__PURE__*/_jsxDEV(Typography.Title, {\n            level: 3,\n            type: \"success\",\n            children: t(\"home_page.domestic_travel\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this),\n          sideImage: sideImgae3,\n          products: productList[2].touristRoutes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FeaturedClients, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport const HomePage = connect(mapStateToProps, mapDispatchToProps)(withTranslation()(HomePageComponent));","map":{"version":3,"sources":["/Users/jinzhouyan/Desktop/react-travel/src/pages/home/HomePage.tsx"],"names":["React","styles","Header","Footer","Carousel","SideMenu","ProductCollection","FeaturedClients","Row","Col","Typography","Spin","sideImgae1","sideImgae2","sideImgae3","withTranslation","axios","connect","fetchRecommendProductStartActionCreator","fetchRecommendProductSuccessActionCreator","fetchRecommendProductFailActionCreator","mapStateToProps","state","loading","recommendProducts","error","productList","mapDispatchToProps","dispatch","fetchStart","fetchSuccess","data","fetchFail","HomePageComponent","Component","componentDidMount","props","get","Error","message","render","t","marginTop","marginBottom","marginLeft","marginRight","width","touristRoutes","HomePage"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styles from \"./HomePage.module.css\";\nimport {\n  Header,\n  Footer,\n  Carousel,\n  SideMenu,\n  ProductCollection,\n  FeaturedClients,\n} from \"../../components\";\nimport { Row, Col, Typography, Spin } from \"antd\";\n\nimport sideImgae1 from \"../../assets/image/sider_11.png\";\nimport sideImgae2 from \"../../assets/image/sider_22.png\";\nimport sideImgae3 from \"../../assets/image/sider_33.png\";\nimport { withTranslation, WithTranslation } from \"react-i18next\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { RootState } from \"../../redux/store\";\nimport {\n  fetchRecommendProductStartActionCreator,\n  fetchRecommendProductSuccessActionCreator,\n  fetchRecommendProductFailActionCreator,\n} from \"../../redux/recommendProducts/recommendProductsActions\";\n\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    loading: state.recommendProducts.loading,\n    error: state.recommendProducts.error,\n    productList: state.recommendProducts.productList,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchStart: () => {\n      dispatch(fetchRecommendProductStartActionCreator());\n    },\n\n    fetchSuccess: (data) => {\n      dispatch(fetchRecommendProductSuccessActionCreator(data));\n    },\n\n    fetchFail: (error) => {\n      dispatch(fetchRecommendProductFailActionCreator(error));\n    },\n  };\n};\n\ntype PropsType = WithTranslation &\n  ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nclass HomePageComponent extends React.Component<PropsType> {\n\n  async componentDidMount() {\n    this.props.fetchStart()\n    try {\n      const { data } = await axios.get(\n        \"http://123.56.149.216:8080/api/productCollections\"\n      );\n      this.props.fetchSuccess(data)\n    } catch (error) {\n      if (error instanceof Error) {\n        this.props.fetchFail(error.message)\n      }\n    }\n  }\n\n  render() {\n    // console.log(this.props.t)\n    const { t, productList, loading, error  } = this.props;\n\n    if (loading) {\n      return (\n        <Spin\n          size=\"large\"\n          style={{\n            marginTop: 200,\n            marginBottom: 200,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            width: \"100%\",\n          }}\n        />\n      );\n    }\n    if (error) {\n      return <div>Website Error: {error} </div>;\n    }\n    return (\n      <>\n        <Header />\n        <div className={styles[\"page-content\"]}>\n          <Row style={{ marginTop: 20 }}>\n            <Col span={6}>\n              <SideMenu />\n            </Col>\n            <Col span={18}>\n              <Carousel />\n            </Col>\n          </Row>\n          <ProductCollection\n            title={\n              <Typography.Title level={3} type=\"warning\">\n                {t(\"home_page.hot_recommended\")}\n              </Typography.Title>\n            }\n            sideImage={sideImgae1}\n            products={productList[0].touristRoutes}\n          />\n          <ProductCollection\n            title={\n              <Typography.Title level={3} type=\"danger\">\n                {t(\"home_page.new_arrival\")}\n              </Typography.Title>\n            }\n            sideImage={sideImgae2}\n            products={productList[1].touristRoutes}\n          />\n          <ProductCollection\n            title={\n              <Typography.Title level={3} type=\"success\">\n                {t(\"home_page.domestic_travel\")}\n              </Typography.Title>\n            }\n            sideImage={sideImgae3}\n            products={productList[2].touristRoutes}\n          />\n        </div>\n        <FeaturedClients />\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport const HomePage = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withTranslation()(HomePageComponent));\n"]},"metadata":{},"sourceType":"module"}