{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { checkout } from \"../shoppingCart/slice\";\nconst initialState = {\n  loading: false,\n  error: null,\n  currentOrder: null\n};\nexport const placeOrder = createAsyncThunk(\"order/placeOrder\", async (paramaters, thunkAPI) => {\n  const {\n    data\n  } = await axios.post(`http://123.56.149.216:8080/api/orders/${paramaters.orderId}/placeOrder`, null, {\n    headers: {\n      Authorization: `bearer ${paramaters.jwt}`\n    }\n  });\n  return data;\n});\nexport const orderSlice = createSlice({\n  name: \"order\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [placeOrder.pending.type]: state => {\n      //return {...state, loading:true};\n      state.loading = true;\n    },\n    [placeOrder.fulfilled.type]: (state, action) => {\n      state.loading = false;\n      state.currentOrder = action.payload;\n      state.error = null;\n    },\n    [placeOrder.rejected.type]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n    [checkout.pending.type]: state => {\n      //return {...state, loading:true};\n      state.loading = true;\n    },\n    [checkout.fulfilled.type]: (state, action) => {\n      state.loading = false;\n      state.currentOrder = action.payload;\n      state.error = null;\n    },\n    [checkout.rejected.type]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }\n  }\n});","map":{"version":3,"sources":["/Users/jinzhouyan/Desktop/react-travel/src/redux/order/slice.ts"],"names":["createSlice","createAsyncThunk","axios","checkout","initialState","loading","error","currentOrder","placeOrder","paramaters","thunkAPI","data","post","orderId","headers","Authorization","jwt","orderSlice","name","reducers","extraReducers","pending","type","state","fulfilled","action","payload","rejected"],"mappings":"AAAA,SAASA,WAAT,EAAqCC,gBAArC,QAA6D,kBAA7D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,uBAAzB;AAOA,MAAMC,YAAwB,GAAG;AAC7BC,EAAAA,OAAO,EAAE,KADoB;AAE7BC,EAAAA,KAAK,EAAE,IAFsB;AAG7BC,EAAAA,YAAY,EAAE;AAHe,CAAjC;AAMA,OAAO,MAAMC,UAAU,GAAGP,gBAAgB,CACtC,kBADsC,EAEtC,OAAOQ,UAAP,EAAqDC,QAArD,KAAkE;AAC9D,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAMT,KAAK,CAACU,IAAN,CAClB,yCAAwCH,UAAU,CAACI,OAAQ,aADzC,EAEjB,IAFiB,EAEX;AACRC,IAAAA,OAAO,EAAE;AACLC,MAAAA,aAAa,EAAG,UAASN,UAAU,CAACO,GAAI;AADnC;AADD,GAFW,CAAvB;AAOA,SAAOL,IAAP;AACH,CAXqC,CAAnC;AAcP,OAAO,MAAMM,UAAU,GAAGjB,WAAW,CAAC;AAClCkB,EAAAA,IAAI,EAAE,OAD4B;AAElCd,EAAAA,YAFkC;AAGlCe,EAAAA,QAAQ,EAAE,EAHwB;AAK/BC,EAAAA,aAAa,EAAE;AACd,KAACZ,UAAU,CAACa,OAAX,CAAmBC,IAApB,GAA4BC,KAAD,IAAW;AAClC;AACAA,MAAAA,KAAK,CAAClB,OAAN,GAAgB,IAAhB;AACH,KAJa;AAKd,KAACG,UAAU,CAACgB,SAAX,CAAqBF,IAAtB,GAA6B,CAACC,KAAD,EAAQE,MAAR,KAAmB;AAC5CF,MAAAA,KAAK,CAAClB,OAAN,GAAgB,KAAhB;AACAkB,MAAAA,KAAK,CAAChB,YAAN,GAAqBkB,MAAM,CAACC,OAA5B;AACAH,MAAAA,KAAK,CAACjB,KAAN,GAAc,IAAd;AACH,KATa;AAUd,KAACE,UAAU,CAACmB,QAAX,CAAoBL,IAArB,GAA4B,CAACC,KAAD,EAAQE,MAAR,KAAiD;AACzEF,MAAAA,KAAK,CAAClB,OAAN,GAAgB,KAAhB;AACAkB,MAAAA,KAAK,CAACjB,KAAN,GAAcmB,MAAM,CAACC,OAArB;AACH,KAba;AAcd,KAACvB,QAAQ,CAACkB,OAAT,CAAiBC,IAAlB,GAA0BC,KAAD,IAAW;AAChC;AACAA,MAAAA,KAAK,CAAClB,OAAN,GAAgB,IAAhB;AACH,KAjBa;AAkBd,KAACF,QAAQ,CAACqB,SAAT,CAAmBF,IAApB,GAA2B,CAACC,KAAD,EAAQE,MAAR,KAAmB;AAC1CF,MAAAA,KAAK,CAAClB,OAAN,GAAgB,KAAhB;AACAkB,MAAAA,KAAK,CAAChB,YAAN,GAAqBkB,MAAM,CAACC,OAA5B;AACAH,MAAAA,KAAK,CAACjB,KAAN,GAAc,IAAd;AACH,KAtBa;AAuBd,KAACH,QAAQ,CAACwB,QAAT,CAAkBL,IAAnB,GAA0B,CAACC,KAAD,EAAQE,MAAR,KAAiD;AACvEF,MAAAA,KAAK,CAAClB,OAAN,GAAgB,KAAhB;AACAkB,MAAAA,KAAK,CAACjB,KAAN,GAAcmB,MAAM,CAACC,OAArB;AACH;AA1Ba;AALgB,CAAD,CAA9B","sourcesContent":["import { createSlice, PayloadAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { checkout } from \"../shoppingCart/slice\";\ninterface OrderState {\n    loading: boolean;\n    error: string | null;\n    currentOrder: any;\n}\n\nconst initialState: OrderState = {\n    loading: false,\n    error: null,\n    currentOrder: null,\n\n}\nexport const placeOrder = createAsyncThunk(\n    \"order/placeOrder\",\n    async (paramaters: { jwt: string, orderId: string }, thunkAPI) => {\n        const { data } = await axios.post(\n            `http://123.56.149.216:8080/api/orders/${paramaters.orderId}/placeOrder`\n            , null, {\n            headers: {\n                Authorization: `bearer ${paramaters.jwt}`\n            }\n        });\n        return data;\n    }\n)\n\nexport const orderSlice = createSlice({\n    name: \"order\",\n    initialState,\n    reducers: {\n\n    }, extraReducers: {\n        [placeOrder.pending.type]: (state) => {\n            //return {...state, loading:true};\n            state.loading = true;\n        },\n        [placeOrder.fulfilled.type]: (state, action) => {\n            state.loading = false;\n            state.currentOrder = action.payload;\n            state.error = null;\n        },\n        [placeOrder.rejected.type]: (state, action: PayloadAction<string | null>) => {\n            state.loading = false;\n            state.error = action.payload;\n        },\n        [checkout.pending.type]: (state) => {\n            //return {...state, loading:true};\n            state.loading = true;\n        },\n        [checkout.fulfilled.type]: (state, action) => {\n            state.loading = false;\n            state.currentOrder = action.payload;\n            state.error = null;\n        },\n        [checkout.rejected.type]: (state, action: PayloadAction<string | null>) => {\n            state.loading = false;\n            state.error = action.payload;\n        }\n    }\n})"]},"metadata":{},"sourceType":"module"}